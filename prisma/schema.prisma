generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model transactions {
  id         Int               @id @default(autoincrement())
  account_id Int
  amount     Decimal           @default(0) @db.Decimal(10, 0)
  type       transactions_type
}

model user_transaction_accounts {
  id      Int   @id @default(autoincrement())
  user_id Int
  balance Int   @default(0)
  user    users @relation(fields: [user_id], references: [id])

  @@index([user_id], map: "user_transaction_accounts_user_id_fkey")
}

model users {
  id                        Int                         @id @default(autoincrement())
  name                      String                      @db.VarChar(100)
  email                     String                      @unique(map: "email_UNIQUE") @db.VarChar(100)
  password                  String                      @db.VarChar(255)
  user_transaction_accounts user_transaction_accounts[]
}

enum transactions_type {
  credit
  debit
}
